<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="lSQL">
	<select id="list" resultType="lVO" parameterType="page">
		SELECT
		    rno, goo, aname, dong, money
		FROM
		    (
		        SELECT
		            ROWNUM rno, goo, aname, dong, money
		        FROM
		            (
		                SELECT
		                    sgg_nm goo, bldg_nm aname, bjdong_nm dong, obj_amt money
		                FROM
		                    sales
		                WHERE
		                    obj_amt >= 700000
		                ORDER BY
		                    obj_amt DESC
		            )
		    )
		WHERE
		    rno BETWEEN #{startRno} AND #{endRno}
	</select>
	
	<select id="listTotal" resultType="int">
		SELECT
		    COUNT(*)
		FROM
		    sales
		WHERE
		    obj_amt >= 700000
	</select>
</mapper>